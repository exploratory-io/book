<br/>
<!-- intentional new line feed above -->

目的変数である<%= target %>を時系列予測するためにProphetを使った予測モデルが作られました。

# 予測精度

{{summary}}

主な評価指標は以下の通りです。

* RMSE（ルート平均2乗誤差）: 予測値と実測値の差は平均して<%= rmse %>ほどです。値が小さいほど予測精度が高いことを示します。
* MAE（平均絶対誤差）:  予測値と実測値の差（絶対値）は平均して<%= mae %>ほどです。値が小さいほど予測精度が高いことを示します。
* MAPE（平均絶対誤差率）: 予測値と実測値の差（絶対値）は実測値に対して<%= mape * 100 %>%ほどです。値が小さいほど予測精度が高いことを示します。
* R2乗値: このモデルは<%= target %>のばらつきの<%= r_squared * 100 %>%を説明できています。

# 予測結果

実測値（青線）とモデルによって予測された値（オレンジ線）をラインチャートを使って可視化したのが以下です。

{{forecast_chart}}

予測期間は<%= period %> <%= unit %> 後までを予測しており、予測値のラインの薄い幅は、不確実性区間を表しています。予測期間はアナリティクスの[「設定」](//analytics/settings)の「予測期間」のセクションから変更が可能です。

## データ

元のデータに予測した結果を加えたのが以下の表となります。

{{data}}


<!-- 外部予測変数があり予測期間に0より大きい値が設定されている場合はこのセクションを表示 -->
<% if (has_external_regressors && period > 0) { %>

## 外部予測変数と将来の予測について

このモデルには外部予測変数が含まれていますが、外部予測変数の将来のデータが含まれていないため、将来の期間における予測はできません。データを持っている期間に対する予測は行われているため、<%= target %>と外部予測変数との相関関係を調べることは可能です。

Prophetで外部予測変数を使用したモデルで将来の予測をしたい場合は、外部予測変数の将来の期間のデータを用意してください。

<% } %>


# 時系列要素の分析

このProphetモデルは<%= target %>のデータを以下の要素に分解して予測に使用しています。

* トレンド
* 季節性: <%= seasonalities.map(seasonality => seasonality).join(', ') %>
* 外部予測変数: <%= external_regressors.map(regressor => regressor.name).join(', ') %>

{{effect_chart}}

## トレンド

以下のチャートは<%= target %>の長期的なトレンド（傾向）を可視化したものです。このグラフには以下の要素が含まれています：

- 青い線は<%= target %>の実測値の推移が確認できます。
- 緑の線は実測値から季節性や不規則な変動を取り除いたトレンドを表しています。これにより<%= target %>のトレンドがどういった傾きなのかを理解することができます。トレンドの変化点によってこのトレンドの傾きが変わるようになっています。
- 赤いバーはトレンドの変化点で、<%= target %>の動きが大きく変わった時点を表しています。

{{trend_chart}}


<!-- 年周期がある場合にのみ表示 -->
<% if (has_yearly_seasonality) { %>

## 年周期の季節性

年周期のパターンは<%= target %>が1年を通じてどのように変動するかを表しています。

{{yearly_seasonality_chart}}

<% } %>

<!-- 週周期がある場合にのみ表示 -->
<% if (has_weekly_seasonality) { %>

## 週周期の季節性

週周期のパターンは、<%= target %>が1週間を通じてどのように変動するかを表しています。

{{weekly_seasonality_chart}}

<% } %>

<!-- 外部予測変数が選ばれているときのみ表示 -->
<% if (variables > 0 ) { %>
## 変数の重要度

季節性や選択された外部予測変数が、<%= target %>を予測するのにどれだけ重要なのかを相対的に表したのが以下のチャートです。

{{variable_importance}}

