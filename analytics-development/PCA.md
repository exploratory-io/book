const template = `
# サマリ

以下の変数を元に主成分分析を行い、多次元データの情報を少数の主成分に縮約しました。

<% variables.forEach(function(variable) { %>
* <%= variable %>
<% }); %>

# 主成分と変数の関係

以下の表は、各変数に対する各主成分の負荷量を示しています。

{{component_loadings_table}}

主成分負荷量は、該当変数が各主成分をどの程度説明できているのかを表す指標で、主成分負荷量の絶対値が表示されています。
主成分負荷量の値は0から1の間で、1に近いほど説明力が高く、0に近いほど説明力が低いことを表します。

以下の「バイプロット」と呼ばれるチャートは、変数間の関係を可視化したものです。

{{biplot}}

元のデータは<%= variables.length %>個の変数によって表されますが、それでは全てのデータのばらつきを２次元（X軸とY軸）空間で可視化することができません。そこで、できる限り元のデータの持つ情報量（ばらつき）を失わないように、元のデータのばらつきを仮想的に作られた2つの変数（X軸、Y軸）によって可視化しようとしたものが、このチャートです。X軸は元データのばらつきの<%= ratio_of_variance_of_p1 %>を表し、Y軸は<%= ratio_of_variance_of_p2 %>を表しています。

それぞれの変数は中心点（0, 0）から外側に向かって伸びるグレーの線によって表されています。線が同じ方向に向かっている変数は相関が強い変数同士だと言えます。

スクリープロットは、各主成分における固有値をチャート化したものです。

{{scree_plot}}

固有値は各主成分の説明力を表し、一般的に固有値が1以上の主成分を採用することが推奨されます。スクリープロットの「肘」の位置（曲線の傾きが大きく変わる点）も、適切な主成分数を判断する目安となります。

以下は各主成分がデータ全体のばらつきをどの程度説明しているかを表す「寄与率」を可視化したチャートです。累積寄与率はそれらの寄与率を足し上げて行った時にどれだけ表現できているのかがわかります。

{{variance_explained_chart}}

# データ

主成分得点（各観測値がそれぞれの主成分においてどの程度の値を持つか）を計算し、元のデータに追加したものが以下です。

{{data}}
`;

module.exports = template;
