目的変数である<%= target %>の発生までの時間と選択された予測変数との関係を調べるためにサバイバル・フォレストを使った予測モデルが作られました。

# 分析結果

## 予測精度

{{summary_chart}}

{start_show_hide}
# モデルの指標の詳細

* 一致係数
 * 一致係数（コンコーダンス）はモデルの予測能力を示す指標で、ランダムに選んだ2つのケースのうち、モデルが実際の生存時間順序を正しく予測できる確率を表します。
 * 値は0.5から1の間で、0.5はランダム予測と同等、1は完璧な予測を意味します。
 * 一般的に0.7以上で許容可能、0.8以上で良好な予測性能と解釈されます。

* 一致係数の標準誤差
 * 一致係数の標準誤差は、推定された一致係数の精度を示します。
 * 値が小さいほど、一致係数の推定精度が高いことを意味します。
 * 一致係数±1.96×標準誤差で95%信頼区間が計算できます。

* 時点AUC
 * 時点AUCは特定の時点におけるモデルの識別能力を示す指標です。
 * 値は0.5から1の間で、0.5はランダム予測、1は完璧な識別能力を意味します。
 * 複数の時点でのAUCを確認することで、モデルの予測性能の時間的安定性を評価できます。

* 行数
 * 行数は分析に使用したデータの総数（サンプルサイズ）です。
 * データ数が多いほど、モデルの信頼性が高まりますが、計算コストも増加します。
 * サバイバル・フォレストは多くの決定木を構築するため、十分なサンプルサイズが重要です。

* 行数 (TRUE)
 * イベントが発生したデータの行数を示します。
 * 生存時間分析では、イベント発生数が少ない場合、予測の精度が低下する可能性があります。
 * イベント発生数と打ち切り数のバランスもモデル性能に影響します。
{end_show_hide}

**予測能力**

<% if (concordance > 0.8) { %>
 一致係数は<%= concordance %>と高く、このモデルは生存時間の順序を正確に予測できることを示しています。これは、ランダムに選んだ2つのケースにおいて、モデルが生存時間の長短を正しく順序付ける確率が約<%= 100 * concordance %>%であることを意味します。
<% } else if (concordance > 0.7) { %>
 一致係数は<%= concordance %>と中程度で、このモデルは生存時間の順序をある程度予測できることを示しています。これは、ランダムに選んだ2つのケースにおいて、モデルが生存時間の長短を正しく順序付ける確率が約<%= 100 * concordance %>%であることを意味します。
<% } else { %>
 一致係数は<%= concordance %>とやや低く、このモデルによる生存時間の順序予測は限定的です。これは、ランダムに選んだ2つのケースにおいて、モデルが生存時間の長短を正しく順序付ける確率が約<%= 100 * concordance %>%であることを意味します。
<% } %>

## 選択された予測変数と生存時間の関係の強さ

選択された予測変数と生存時間の関係の強さを相対的に表したのが以下のチャートです。サバイバル・フォレストでは、各変数の重要度がモデルの予測精度への貢献度として計算されます。

{{variable_importance}}

## それぞれの予測変数と生存時間の関係

それぞれの予測変数の値が変わると、生存時間の予測がどのように変わるかを表したのが以下のチャートです。変数は生存時間との関係が最も強いものから弱い方への順番で並んでいます。

{{variable_effect}}


## 生存曲線

モデルに基づいた代表的な生存曲線を表したのが以下のグラフです。この曲線は、時間の経過に伴うイベント非発生確率（生存確率）の推定値を示しています。

{{survival_curve}}

## 時間依存ROC曲線

以下のチャートは、異なる時点におけるモデルの予測性能を示すROC曲線です。AUC値が高いほど、その時点での予測精度が高いことを示しています。

{{roc}}

# 次のステップ

* 変数選択の最適化：変数重要度が低い予測変数を除外して、モデルをシンプルにすることを検討してください。これにより、モデルの解釈がしやすくなり、過剰適合のリスクも減少します。
* ハイパーパラメータの調整：木の数、ノードの最小サイズ、分岐に使用する変数の数など、サバイバル・フォレストのパラメータを調整することで、モデルの性能をさらに向上させることができるかもしれません。
* 交互作用の探索：サバイバル・フォレストは自動的に変数間の交互作用を捉えることができますが、特に重要な交互作用を特定し、解釈することで、より深い洞察が得られるかもしれません。
* 時間依存予測の評価：様々な時点でのモデルの予測性能を評価することで、短期予測と長期予測のどちらに強みがあるかを理解し、適切な活用方法を検討できます。
* 他のモデルとの比較：コックス比例ハザードモデルなど、より解釈しやすい伝統的なモデルとの比較を行い、予測精度と解釈容易性のトレードオフを評価することも有益かもしれません。

# 補足情報

## データの詳細

分析に使用したデータの詳細情報が以下の表となります。

{{data}}